{"version":3,"file":"index.js","sources":["../src/js/events.js","../src/js/books-api.js","../src/js/feedbacks.js","../src/js/hero.js"],"sourcesContent":["import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const swiperEl = document.querySelector('.events-swiper');\n  if (!swiperEl) return;\n\n  new Swiper(swiperEl, {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    spaceBetween: 24,\n\n    breakpoints: {\n      768: { slidesPerView: 2 },\n      1440: { slidesPerView: 3 },\n    },\n\n    pagination: {\n      el: '.ev-pagination',\n      clickable: true,\n      renderBullet: (index, className) =>\n        `<li class=\"${className}\" aria-label=\"Go to slide ${index + 1}\"></li>`,\n      bulletClass: 'ev-dot',\n      bulletActiveClass: 'ev-dot--active',\n    },\n\n    navigation: {\n      nextEl: '.events-swiper-btn-next',\n      prevEl: '.events-swiper-btn-prev',\n    },\n\n    watchOverflow: true,\n  });\n});\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import { Scrollbar } from 'swiper/modules';\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\nconst CATEGORY_LIST = '/books/category-list';\nconst TOP_BOOKS = '/books/top-books';\nconst BOOKS_BY_CATEGORY = '/books/category';\nconst BOOK_DETAILS = '/books/';\nconst ITEMS_PER_PAGE_MOBILE = 10;\nconst ITEMS_PER_PAGE_TABLET_DESKTOP = 24;\n\nconst refs = {\n  categoryToggleBtn: document.querySelector('[data-category-list-toggle]'),\n  categoryMenuContainer: document.querySelector('[data-category-list]'),\n  categoryListElement: document.querySelector('.books-categories-list'),\n  booksContainer: document.querySelector('.js-books-list'),\n  showMoreBtn: document.querySelector('.books-show-more-btn'),\n  booksShowingCount: document.querySelector('.books-showing-count'),\n};\n\nlet categories = [];\nlet activeCategory = 'All categories';\nlet currentTotalBooks = [];\nlet currentPage = 0;\nlet currentBooksDisplayed = 0;\n\nfunction getBooksLimit() {\n  if (window.innerWidth < 768) {\n    return ITEMS_PER_PAGE_MOBILE;\n  } else {\n    return ITEMS_PER_PAGE_TABLET_DESKTOP;\n  }\n}\n\nasync function fetchData(url, options = {}) {\n  try {\n    const { data } = await axios(url, options);\n    return data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      titleColor: '#ffffff',\n      message: `Request failed: <u>${error.message}</u>`,\n      messageColor: '#ffffff',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n      timeout: 4000,\n      animateInside: true,\n      progressBar: false,\n      close: false,\n      closeOnClick: true,\n    });\n    throw error;\n  }\n}\n\n// ---  API Services ---\nasync function serviceCategoryList() {\n  const data = await fetchData(`${BASE_URL}${CATEGORY_LIST}`);\n  return data.map(category => category.list_name);\n}\n\nasync function serviceTopBooks() {\n  const data = await fetchData(`${BASE_URL}${TOP_BOOKS}`);\n  return data.flatMap(item => item.books);\n}\n\nasync function serviceBooksByCategory(categoryName) {\n  const params = { category: categoryName };\n  return await fetchData(`${BASE_URL}${BOOKS_BY_CATEGORY}`, {\n    params,\n  });\n}\n\nasync function serviceBookDetails(bookId) {\n  const data = await fetchData(`${BASE_URL}${BOOK_DETAILS}${bookId}`);\n  console.log(`Book details for ID ${bookId}:`, data);\n  return data;\n}\n\n// --- Markup Functions ---\nfunction createMarkupCategoryList(arr) {\n  const allCategoriesLink = `\n    <li class=\"books-categories-item\">\n      <a href=\"#\" class=\"books-categories-list-link ${\n        activeCategory === 'All categories' ? 'active' : ''\n      }\">All categories</a>\n    </li>\n  `;\n\n  const categoryItems = arr\n    .filter(name => name !== 'All categories')\n    .map(\n      name => `\n        <li class=\"books-categories-item\">\n          <a href=\"#\" class=\"books-categories-list-link ${\n            name === activeCategory ? 'active' : ''\n          }\">${name}</a>\n        </li>\n      `\n    )\n    .join('');\n\n  return allCategoriesLink + categoryItems;\n}\n\nfunction createMarkupBooks(arr) {\n  if (arr.length === 0) {\n    return '<li class=\"no-books-message\">No books found for this category.</li>';\n  }\n  return arr\n    .map(\n      ({ book_image, title, author, price, _id }) => `\n        <li class=\"books-card\" data-book-id=\"${_id}\">\n            <img class=\"books-card-img\" src=\"${book_image}\" alt=\"${title}\"/>\n            <div class=\"books-info\">\n                <div class=\"books-info-left\">\n                   <h4 class=\"books-h section-subtitle\">${title}</h4>\n                   <p class=\"books-text\">${author}</p>\n                   \n                </div>\n                <p class=\"books-price-text\">$${price}</p>\n            </div>\n            <button class=\"learn-more-btn\" type=\"button\" data-book-modal-open data-book-id=\"${_id}\">Learn more</button>\n        </li>\n    `\n    )\n    .join('');\n}\n\n// --- Render Functions ---\nfunction renderCategories() {\n  refs.categoryListElement.innerHTML = createMarkupCategoryList(categories);\n\n  refs.categoryListElement\n    .querySelectorAll('.books-categories-list-link')\n    .forEach(link => {\n      link.addEventListener('click', handleCategoryClick);\n    });\n}\n\nasync function renderBooks() {\n  refs.booksContainer.innerHTML = '';\n  refs.showMoreBtn.classList.add('show-more-hidden');\n\n  if (activeCategory === 'All categories') {\n    currentTotalBooks = await serviceTopBooks();\n  } else {\n    currentTotalBooks = await serviceBooksByCategory(activeCategory);\n  }\n\n  currentPage = 0;\n  currentBooksDisplayed = 0;\n  displayBooksPortion();\n}\n\nfunction displayBooksPortion(limit = getBooksLimit()) {\n  const startIndex = currentPage * limit;\n  const endIndex = Math.min(startIndex + limit, currentTotalBooks.length);\n  const booksToDisplay = currentTotalBooks.slice(startIndex, endIndex);\n\n  refs.booksContainer.insertAdjacentHTML(\n    'beforeend',\n    createMarkupBooks(booksToDisplay)\n  );\n\n  currentBooksDisplayed = endIndex;\n\n  refs.booksShowingCount.textContent = `Showing ${currentBooksDisplayed} of ${currentTotalBooks.length}`;\n\n  currentPage++;\n\n  if (currentBooksDisplayed < currentTotalBooks.length) {\n    refs.showMoreBtn.classList.remove('show-more-hidden');\n  } else {\n    refs.showMoreBtn.classList.add('show-more-hidden');\n  }\n}\n\n// --- Event Handlers ---\nfunction toggleCategory() {\n  const isOpen = refs.categoryMenuContainer.classList.toggle('is-open');\n  refs.categoryToggleBtn.classList.toggle('is-open');\n\n  if (isOpen) {\n    updateCategoryThumb();\n  }\n}\n\nasync function handleCategoryClick(event) {\n  event.preventDefault();\n\n  const newActiveCategory = event.target.textContent;\n\n  if (activeCategory === newActiveCategory) {\n    refs.categoryMenuContainer.classList.remove('is-open');\n    refs.categoryToggleBtn.classList.remove('is-open');\n    return;\n  }\n\n  activeCategory = newActiveCategory;\n  renderCategories();\n  await renderBooks();\n\n  refs.categoryMenuContainer.classList.remove('is-open');\n  refs.categoryToggleBtn.classList.remove('is-open');\n}\n\n//------------------- For modal window (Change alert to modal)-------------\nasync function handleLearnMoreClick(event) {\n  const learnMoreBtn = event.target.closest('.learn-more-btn');\n  if (learnMoreBtn) {\n    const bookId = learnMoreBtn.dataset.bookId;\n\n    if (bookId) {\n      try {\n        const bookDetails = await serviceBookDetails(bookId);\n        alert(\n          `Book Title: ${bookDetails.title}\\nAuthor: ${\n            bookDetails.author\n          }\\nDescription: ${bookDetails.description.substring(0, 100)}...`\n        );\n      } catch (error) {\n        alert('Failed to load book details. Please try again later.');\n        console.error('Failed to show book details:', error);\n      }\n    }\n  }\n}\n// ------------------------------------------------------------------------\n\nasync function onShowMore() {\n  refs.showMoreBtn.disabled = true;\n\n  try {\n    displayBooksPortion(4);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Failed to load books: ${error.message}`,\n      backgroundColor: '#ef4040',\n      titleColor: '#fff',\n      messageColor: '#fff',\n      position: 'topRight',\n    });\n  } finally {\n    refs.showMoreBtn.disabled = false;\n  }\n}\n\n// --- Initialization ---\nasync function initializeApp() {\n  categories = await serviceCategoryList();\n\n  if (!categories.includes('All categories')) {\n    categories = ['All categories', ...categories];\n  }\n\n  renderCategories();\n\n  refs.categoryToggleBtn.firstChild.textContent = 'Categories ';\n\n  await renderBooks();\n\n  let prevBooksLimit = getBooksLimit();\n\n  window.addEventListener('resize', () => {\n    const newLimit = getBooksLimit();\n    if (newLimit !== prevBooksLimit) {\n      prevBooksLimit = newLimit;\n\n      refs.booksContainer.innerHTML = '';\n      currentPage = 0;\n      currentBooksDisplayed = 0;\n      displayBooksPortion(newLimit);\n    }\n  });\n}\n\n//--- Scrollbar---\nconst categoryList = refs.categoryListElement;\nconst categoryThumb = document.querySelector(\n  '.books-categories-scrollbar-thumb'\n);\n\nfunction updateCategoryThumb() {\n  const { scrollTop, scrollHeight, clientHeight } = categoryList;\n  const ratio = clientHeight / scrollHeight;\n  const thumbHeight = Math.max(ratio * clientHeight, 24);\n  const maxTop = clientHeight - thumbHeight;\n  const top = (scrollTop / (scrollHeight - clientHeight)) * maxTop || 0;\n\n  categoryThumb.style.height = thumbHeight + 'px';\n  categoryThumb.style.top = top + 'px';\n}\n\ncategoryList.addEventListener('scroll', updateCategoryThumb);\nwindow.addEventListener('resize', updateCategoryThumb);\nupdateCategoryThumb();\n\nlet isDragging = false;\nlet startY = 0;\nlet startScrollTop = 0;\n\ncategoryThumb.addEventListener('mousedown', e => {\n  isDragging = true;\n  startY = e.clientY;\n  startScrollTop = categoryList.scrollTop;\n  document.body.style.userSelect = 'none';\n});\n\ndocument.addEventListener('mousemove', e => {\n  if (!isDragging) return;\n\n  const { scrollHeight, clientHeight } = categoryList;\n  const maxScroll = scrollHeight - clientHeight;\n\n  const thumbHeight = categoryThumb.offsetHeight;\n  const maxThumbTop = clientHeight - thumbHeight;\n\n  const deltaY = e.clientY - startY;\n  const scrollDelta = (deltaY / maxThumbTop) * maxScroll;\n\n  categoryList.scrollTop = startScrollTop + scrollDelta;\n  updateCategoryThumb();\n});\n\ndocument.addEventListener('mouseup', () => {\n  isDragging = false;\n  document.body.style.userSelect = '';\n});\n\n// --- Event Listeners ---\nrefs.categoryToggleBtn.addEventListener('click', toggleCategory);\nrefs.booksContainer.addEventListener('click', event => {\n  const learnMoreBtn = event.target.closest('.learn-more-btn');\n  if (!learnMoreBtn) return;\n\n  learnMoreBtn.blur();\n\n  handleLearnMoreClick(event);\n});\nrefs.showMoreBtn.addEventListener('click', onShowMore);\n\nwindow.addEventListener('click', function (event) {\n  if (\n    !refs.categoryToggleBtn.contains(event.target) &&\n    !refs.categoryMenuContainer.contains(event.target)\n  ) {\n    refs.categoryMenuContainer.classList.remove('is-open');\n    refs.categoryToggleBtn.classList.remove('is-open');\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', initializeApp);\n","document.addEventListener('DOMContentLoaded', () => {\n  const swiper = new Swiper('#feedbacks-slider', {\n    // мобільна база\n    slidesPerView: 1,\n    spaceBetween: 24,\n    grabCursor: true,\n    keyboard: { enabled: true, onlyInViewport: true },\n    a11y: { enabled: true },\n    watchOverflow: true,\n\n    // кастомні кнопки\n    navigation: {\n      nextEl: '.btn-next',\n      prevEl: '.btn-prev',\n      disabledClass: 'is-disabled',\n      lockClass: 'is-locked'\n    },\n\n    // булети пагінації у твоєму контейнері\n    pagination: {\n      el: '.slider-dots',\n      clickable: true,\n      bulletClass: 'dot',\n      bulletActiveClass: 'dot--active'\n    },\n\n    // респонсів: планшет = 2, ПК = 3\n    breakpoints: {\n      768:  { slidesPerView: 2 },\n      1440: { slidesPerView: 3 }\n    }\n  });\n\n  // Синхронізуємо aria/disabled з класом is-disabled, який ставить Swiper\n  const prev = document.querySelector('.btn-prev');\n  const next = document.querySelector('.btn-next');\n\n  function syncNavAria() {\n    if (prev) {\n      const disabled = prev.classList.contains('is-disabled');\n      prev.toggleAttribute('disabled', disabled);\n      prev.setAttribute('aria-disabled', String(disabled));\n    }\n    if (next) {\n      const disabled = next.classList.contains('is-disabled');\n      next.toggleAttribute('disabled', disabled);\n      next.setAttribute('aria-disabled', String(disabled));\n    }\n  }\n\n  // Події Swiper\n  swiper.on('init', syncNavAria);\n  swiper.on('slideChange', syncNavAria);\n  swiper.on('reachBeginning', syncNavAria);\n  swiper.on('reachEnd', syncNavAria);\n  swiper.on('fromEdge', syncNavAria);\n\n  // первинний виклик (init стріляє автоматично, але дублювання не завадить)\n  syncNavAria();\n\n  // Додаткові стрілки з клавіатури, коли фокус на кнопці\n  function onKeyNav(e) {\n    if (e.key === 'ArrowLeft') { e.preventDefault(); prev?.click(); }\n    if (e.key === 'ArrowRight'){ e.preventDefault(); next?.click(); }\n  }\n  prev?.addEventListener('keydown', onKeyNav);\n  next?.addEventListener('keydown', onKeyNav);\n});\n\n\n// import Swiper from 'swiper';\n// import { Navigation, Pagination, Keyboard } from 'swiper/modules';\n// import 'swiper/css';\n// import 'swiper/css/navigation';\n// import 'swiper/css/pagination';\n\n// // Ініціалізація слайдера\n// const swiperFeedbacks = new Swiper('.feedbacks-swiper', {\n//   modules: [Navigation, Pagination, Keyboard],\n//   slidesPerView: 1,       // один слайд на екрані\n//   spaceBetween: 24,       // відстань між слайдами\n//   loop: false,\n\n//   pagination: {\n//     el: '.swiper-pagination',\n//     clickable: true\n//   },\n//   navigation: {\n//     nextEl: '.swiper-button-next',\n//     prevEl: '.swiper-button-prev'\n//   },\n//   keyboard: {\n//     enabled: true,\n//     onlyInViewport: true\n//   }\n// });\n\n// const userFeedbacks = [\n//   {\n//     avatar:\n//       './img/feedbacks-images/profile.pic.jpg',\n//     username:\n//       'Jane Doe',\n//     userInfo: 'Book Lover, Reader',\n//     message: 'Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!'\n//   },\n// ];\n","const swiper = new Swiper('.hero-swiper', {\n  loop: false,\n  speed: 400,\n  slidesPerView: 1,\n  wrapperClass: 'hero-swiper-wrapper',\n  slideClass: 'hero-slide',\n  navigation: {\n    nextEl: '.hero-right-btn',\n    prevEl: '.hero-left-btn',\n  },\n});"],"names":["swiperEl","Swiper","Navigation","Pagination","index","className","BASE_URL","CATEGORY_LIST","TOP_BOOKS","BOOKS_BY_CATEGORY","BOOK_DETAILS","ITEMS_PER_PAGE_MOBILE","ITEMS_PER_PAGE_TABLET_DESKTOP","refs","categories","activeCategory","currentTotalBooks","currentPage","currentBooksDisplayed","getBooksLimit","fetchData","url","options","data","axios","error","iziToast","serviceCategoryList","category","serviceTopBooks","item","serviceBooksByCategory","categoryName","params","serviceBookDetails","bookId","createMarkupCategoryList","arr","allCategoriesLink","categoryItems","name","createMarkupBooks","book_image","title","author","price","_id","renderCategories","link","handleCategoryClick","renderBooks","displayBooksPortion","limit","startIndex","endIndex","booksToDisplay","toggleCategory","isOpen","updateCategoryThumb","event","newActiveCategory","handleLearnMoreClick","learnMoreBtn","bookDetails","onShowMore","initializeApp","prevBooksLimit","newLimit","categoryList","categoryThumb","scrollTop","scrollHeight","clientHeight","ratio","thumbHeight","maxTop","top","isDragging","startY","startScrollTop","maxScroll","maxThumbTop","scrollDelta","swiper","prev","next","syncNavAria","disabled","onKeyNav","e"],"mappings":"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"}